<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.RoleMapper">

    <!-- Test case 1: parameterType with valid fields -->
    <select id="selectById" parameterType="java.lang.Long" resultType="com.example.mapper.Role">
        SELECT * FROM role WHERE id = #{id}
    </select>

    <!-- Test case 2: @Param annotation with valid parameter -->
    <select id="selectByName" resultType="com.example.mapper.Role">
        SELECT * FROM role WHERE role_name LIKE CONCAT('%', #{roleName}, '%')
    </select>

    <!-- Test case 3: parameterType with multiple valid fields -->
    <insert id="insert" parameterType="com.example.mapper.Role">
        INSERT INTO role (role_name, remark, create_time, version)
        VALUES (#{roleName}, #{remark}, #{createTime}, 1)
    </insert>

    <!-- Test case 4: parameterType with all valid fields (including optimistic locking) -->
    <update id="updateById" parameterType="com.example.mapper.Role">
        UPDATE role
        SET role_name = #{roleName},
            remark = #{remark},
            update_time = #{updateTime},
            version = version + 1
        WHERE id = #{id}
            AND version = #{version}
    </update>

    <!-- Test case 5: Multiple @Param annotations -->
    <delete id="deleteByIdAndVersion">
        DELETE FROM role
        WHERE id = #{id}
            AND version = #{version}
    </delete>

    <!-- Test case 6: Mixed @Param and multiple parameters -->
    <select id="selectByCriteria" resultType="com.example.mapper.Role">
        SELECT * FROM role
        WHERE role_name = #{roleName}
            AND remark = #{remark}
    </select>

    <!-- Test case 7: Invalid parameter (for testing error detection)
         This should trigger a validation error because 'invalidField' doesn't exist
    <select id="selectInvalid" parameterType="com.example.mapper.Role">
        SELECT * FROM role WHERE invalid_field = #{invalidField}
    </select>
    -->

</mapper>
